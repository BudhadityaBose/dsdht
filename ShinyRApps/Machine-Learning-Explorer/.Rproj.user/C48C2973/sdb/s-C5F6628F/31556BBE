{
    "contents" : "# ￼￼NYC Data Science Bootcamp Fall 2015\n# Simple Linear Regression\n\n# Question #1: Anatomical Data from Domestic Cats\n# Load the ​catsdataset from the ​MASSlibrary. This dataset includes the body and heart weights of both male and female adult domestic cats.\ninstall.packages(\"MASS\")\nlibrary(MASS)\nc<- cats\n\n# 1. Create a scatterplot of heart weight versus body weight. From this plot alone, do you think simple linear regression would be a good fit for the data? Why?\nggplot(cats, aes(x=cats$Hwt, y=cats$Bwt)) +\n  geom_point(aes(color = Sex)) +\n  geom_point(shape=1) +    # Use hollow circles\n  geom_smooth(method=lm)+   # Add linear regression line \n  coord_cartesian() +\n  theme_hc()\n\nhist(cats$Hwt, xlab = \"Heart Weight in G\", main = \"Histogram of HW\")\nhist(cats$Bwt, xlab = \"Body Weight in KG\", main = \"Histogram of BW\")\n\nplot(cats)\n\nlm(cats$Hwt ~ cats$Bwt)\n\n#yes, because they're in a straight line more or les\n\n# 2. Regress heart weight onto body weight. For this model:\n# a. Write out the regression equation.\nplot(x=cats$Bwt, y=cats$Hwt)\n\nbeta1 = sum((cats$Bwt - mean(cats$Bwt)) * (cats$Hwt - mean(cats$Hwt))) /sum((cats$Bwt - mean(cats$Bwt))^2)\nbeta0 = mean(cats$Hwt) - beta1*mean(cats$Bwt)\n\nabline(beta0, beta1, lty = 2)\n\n\n# b. Interpret the meaning of the coefficients in context of the problem.\n#beta1 is around 4, so for every increase in 1kg of bodyweight you get a 4x increase of heart weight (in g).\n\n#Beta0, the intercempt is 0.3, so a cat weighing -lbs will have a negative heart weight. (that was a joke)\n\n# c. Are the coefficients significant? How can you tell?\nggplot(cats, aes(x=cats$Bwt, y=cats$Hwt)) +\n  geom_point(aes(color = cats$Sex)) +\n  geom_point(shape=1) +    # Use hollow circles\n  geom_smooth(method=lm)+   # Add linear regression line \n  coord_cartesian() +\n  theme_hc()\n\nmodel = lm(cats$Bwt ~ cats$Hwt)\n\n# d. Is the overall regression significant? How can you tell? How does the answer to part c. relate?\n\nresiduals = cats$Hwt - (beta0 + beta1*cats$Bwt)\n\nsegments(cats$Bwt, cats$Hwt,\n         cats$Bwt, (beta0 + beta1*cats$Bwt),\n         col = \"red\")\ntext(cats$Hwt - .5, cars$dist, round(residuals, 2), cex = 0.5)\n\nsummary(model)\n#Yes, overall \n# e. Find and interpret the RSE.\nsum(residuals)\nplot(model$fitted, model$residuals,\n     xlab = \"Fitted Values\", ylab = \"Residual Values\",\n     main = \"Residual Plot for Cars Dataset\")\nabline(h = 0, lty = 2)\n\nqqnorm(model$residuals)\nqqline(model$residuals)\n\n#The residuals don't look like they're normal based on the Q-Q Plot. \n\n# f. Find and interpret the coefficient of determination.\nconfint(model)\n\n# 3. Add the regression line to your plot from part 1.\n\n# 4. Add a visualization of the residuals to your plot from part 3. Do any of the residuals seem abnormally large?\n\n# 5. Construct 95% confidence intervals for the model coefficients. Interpret the intervals in context of the problem.\n\n# 6. Assess each of the assumptions of the model.\n\n# 7. Redraw the scatterplot and regression line from part 3 and add both confidence and prediction bands.\n\n# a. Why is the prediction band wider than the confidence band?\n\n# b. Why does the confidence band widen as it travels away from the center of the regression line?\n\n# 8. Construct confidence and prediction intervals for body weights of 2.8 kg, 5 kg, and\n\n# 10 kg. Do you foresee any issues with reporting any of these intervals?\n\n\n# ￼￼Question #2: Considering Transformations\n# Continue with the ​cats​dataset from the ​MASS​library.\n\n\n# 1. Create a Box-Cox plot for transforming the ​catsregression you created in question 1 above.\n\n# 2. Determine the best value of lambda for a Box-Cox transformation on the ​cats regression. (Hint: Try to balance interpretability and accuracy; when taking this perspective, there isn’t really a completely “correct” answer.)\n\n# 3. Transform your data based on your answer to part 2.\n\n# 4. Construct a new regression now using the transformed data.\n\n# 5. Create a scatterplot of the transformed data and overlay the new regression line.\n\n# 6. Inspect the summary information and validate the assumptions of the linear regression model. Is there anything to be concerned about in the new model?\n\n# 7. Compare the models you created:\n\n# a. Give one reason why you might use the original model instead of the Box-Cox transformed model.\n\n# b. Give one reason why you might use the Box-Cox transformed model instead of the original model.\n\n# 8. Attempt to apply a Box-Cox transformation on the model on which you already applied a Box-Cox transformation. What happens?\n",
    "created" : 1444316712018.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2936284507",
    "id" : "31556BBE",
    "lastKnownWriteTime" : 1444404385,
    "path" : "~/boxer/bootcamp003_student/10-07SimpleLinearRegression/aviyashchin_simple_linear_regression.R",
    "project_path" : "bootcamp003_student/10-07SimpleLinearRegression/aviyashchin_simple_linear_regression.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_source"
}